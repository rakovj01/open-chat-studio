# Generated by Django 4.2 on 2023-05-24 12:55
from datetime import datetime, date

from django.db import migrations

def set_status(apps, schema_editor):
    ExperimentSession = apps.get_model("experiments", "ExperimentSession")
    migration_date = date(2023, 5, 24)
    for row in ExperimentSession.objects.filter(created_at__lt=migration_date, status="setup"):
        row.status = "unknown"
        row.save(update_fields=["status"])



class Migration(migrations.Migration):
    dependencies = [
        ("experiments", "0019_remove_public_id_null"),
    ]

    operations = [
        migrations.RunPython(set_status, elidable=True)
    ]
